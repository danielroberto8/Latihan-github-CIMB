<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let stokapel = 50
        let stokjeruk = 50
        let stokmangga = 50
        let stokpisang = 50

        let hrgapel = 20000
        let hrgjeruk = 30000
        let hrgmangga = 25000  
        let hrgpisang = 20000
        
        let again = true

        while(again){
            let input
            let total = 0
            alert(`Daftar Buah \n\n 1.Apel \n harga Rp. 20.000/pcs \n stok : 50 \n\n 2.Jeruk \n harga Rp. 30.000/pcs \n stok : 50 \n\n 3.Mangga \n harga Rp. 25.000/pcs \n stok : 50 \n\n 4.Pisang \n  harga Rp. 20.000/pcs \n  stok : 50 \n\n Klik "OK" atau tekan "Enter" untuk melanjutkan.`)
            
                let conditionbuy = true
                do{
                    input = parseInt(prompt('berapa jumlah apel yang ingin anda beli?'))
                    if(input<stokapel && input>0){
                        stokapel = stokapel - input
                        total = hrgapel * input
                        conditionbuy = false
                    }else{
                        alert('Jumlah yang anda masukkan ivalid atau melebihi stok.\nSilahkan mengulangi lagi.')
                        throw new console.error()
                        conditionbuy = true   
                    }
                }while(conditionbuy)

                do{
                    input = parseInt(prompt('berapa jumlah jeruk yang ingin anda beli?'))
                    if(input<stokjeruk && input>0){
                        stokjeruk = stokjeruk - input
                        total = total + hrgjeruk * input
                        conditionbuy = false
                    }else{
                        alert('Jumlah yang anda masukkan invalid atau melebihi stok.\nSilahkan mengulangi lagi.')   
                        throw new console.error()
                        conditionbuy = true
                    }
                }while(conditionbuy)

                do{
                    input = parseInt(prompt('berapa jumlah mangga yang ingin anda beli?'))
                    if(input<stokmangga && input>0){
                        stokmangga = stokmangga - input
                        total = total + hrgmangga * input
                        conditionbuy = false
                    }else{
                        alert('Jumlah yang anda masukkan invalid atau melebihi stok.\nSilahkan mengulangi lagi.')   
                        throw new console.error()
                        conditionbuy = true
                    }
                }while(conditionbuy) 
                    
                do{
                    input = parseInt(prompt('berapa jumlah pisang yang ingin anda beli?'))
                    if(input<stokpisang && input>0){
                        stokpisang = stokpisang - input
                        total = total + hrgpisang* input
                        conditionbuy = false
                    }else{
                        alert('Jumlah yang anda masukkan invalid atau melebihi stok.\nSilahkan mengulangi lagi.')   
                        throw new console.error()
                        conditionbuy = true
                    }
                }while(conditionbuy)
    
            let conditionpay = true
            while(conditionpay){ 
                let pay=parseInt(prompt('Total belanjaan anda Rp.'+total+'\nMasukkan nominal uang anda : '))
                if(pay>total){
                    alert('Jumlah kembalian anda Rp.'+(pay-total)+'\nTerima kasih.\n')
                    conditionpay = false
                }    
                else if(pay<total)
                    alert('Duitnya kurang Rp.'+(total-pay)+' Bambang.\nMasukkan nominal yang lebih besar.\n')
                else{
                    alert('Uangnya pas.\nTerima kasih. ;)\n')
                    conditionpay = false  
                }    
            }
            
            let confirm = confirm('Klik "OK" jika anda ingin belanja lagi.')
            if(confirm==false)
                again = false
        }          
   </script>
</body>
</html>